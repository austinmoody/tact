# Proposal: Rename Time Entry Text Fields

## Summary

Rename the `raw_text` and `description` fields on Time Entries to more descriptive names that clarify their purpose.

## Motivation

The current field names are ambiguous:
- `raw_text` - doesn't clearly indicate this is the user's original input
- `description` - doesn't indicate this is a parsed/derived field generated by the LLM

New names make the relationship and purpose clear:
- `user_input` - explicitly states this is what the user originally typed (immutable)
- `parsed_description` - indicates this is derived output from the parser

## Proposed Changes

| Current Name | New Name | Purpose |
|--------------|----------|---------|
| `raw_text` | `user_input` | The exact natural language text the user entered |
| `description` | `parsed_description` | LLM-generated clean description of the work done |

## Scope

This change affects:

### Backend
- Database model (`TimeEntry` in `db/models.py`)
- Pydantic schemas (`schemas/entry.py`)
- API routes (`routes/entries.py`)
- LLM provider interface and implementations
- Database migration (rename columns)
- All tests

### TUI
- Entry model struct (`model/entry.go`): rename `RawText` → `UserInput` and `Description` → `ParsedDescription` with updated JSON tags

### MCP
- Server tools (`server.py`): update `create_entry` tool schema (`raw_text` → `user_input`) and `update_entry` tool schema (`description` → `parsed_description`)
- Client (`client.py`): rename `raw_text` parameter → `user_input` in `create_entry` method

### Specs
- `entries-api/spec.md`

## Migration Strategy

- Add Alembic migration to rename database columns
- Update all code references atomically
- No data transformation needed (column rename only)

## Risks

- **Breaking change**: API field names change, affecting any external consumers
- **Mitigation**: This is an internal tool; coordinate deployment of all components together
